!function (n, t) { "function" == typeof define && define.amd ? define([], t) : "object" == typeof exports ? module.exports = t() : n.firstBy = t(); }(this, function () { function s(n) { return n; } function y(n) { return "string" == typeof n ? n.toLowerCase() : n; } function p(n, t) { var e, i, o, r, f, u = "function" == typeof this && !this.firstBy && this, c = (t = "object" == typeof (t = t) ? t : { direction: t }, "function" != typeof (e = n) && (i = e, e = function (n) { return n[i] || ""; }), 1 === e.length && (o = e, r = t.ignoreCase ? y : s, f = t.cmp || function (n, t) { return n < t ? -1 : t < n ? 1 : 0; }, e = function (n, t) { return f(r(o(n)), r(o(t))); }), t.direction in { "-1": "", desc: "" } ? function (n, t) { return -e(n, t); } : e), t = u ? function (n, t) { return u(n, t) || c(n, t); } : c; return t.thenBy = p, t; } return p.firstBy = p; });